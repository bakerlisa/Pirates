{"ast":null,"code":"var _jsxFileName = \"/Users/lisabroadhead/Desktop/exam/MERN/client/src/views/EditPriate.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport Form from '../components/Form';\nimport Delete from '../components/Delete';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst EditPriate = props => {\n  _s();\n\n  const history = useHistory();\n  const {\n    id\n  } = useParams();\n  const [form, setForm] = useState({});\n  const [dbError, setDBError] = useState({});\n  const [error, setError] = useState({\n    name: true,\n    crew: true\n  });\n  useEffect(() => {\n    axios.get(`http://localhost:8000/api/pirate/${id}`).then(response => {\n      setForm(response.data.pirate);\n    }).catch(err => {\n      history.push(\"/404\");\n    });\n  }, [id]);\n\n  const onSubmitHandler = event => {\n    event.preventDefault();\n    axios.patch(`http://localhost:8000/api/edit/pirate/${id}`, form).then(res => {\n      history.push(`/pirate/${id}`);\n    }).catch(err => {\n      setDBError(err.response.data.error.errors);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Form, {\n        title: `Edit Pirate: ${form.name}`,\n        form: form,\n        setForm: setForm,\n        onSubmitHandler: onSubmitHandler,\n        dbError: dbError,\n        error: error,\n        setError: setError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        className: \"cancle\",\n        children: \"Cancle\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Delete, {\n        id: id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n\n_s(EditPriate, \"M3roCGI4jIcKTub1oyWM2Iacn60=\", false, function () {\n  return [useHistory, useParams];\n});\n\n_c = EditPriate;\nexport default EditPriate;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditPriate\");","map":{"version":3,"sources":["/Users/lisabroadhead/Desktop/exam/MERN/client/src/views/EditPriate.js"],"names":["axios","React","useEffect","useState","useHistory","useParams","Form","Delete","Link","EditPriate","props","history","id","form","setForm","dbError","setDBError","error","setError","name","crew","get","then","response","data","pirate","catch","err","push","onSubmitHandler","event","preventDefault","patch","res","errors"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,UAAT,EAAqBC,SAArB,QAAsC,kBAAtC;AAEA,OAAOC,IAAP,MAAiB,oBAAjB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,SAASC,IAAT,QAAqB,kBAArB;;;;AAEA,MAAMC,UAAU,GAAIC,KAAD,IAAW;AAAA;;AAC1B,QAAMC,OAAO,GAAGP,UAAU,EAA1B;AACA,QAAM;AAAEQ,IAAAA;AAAF,MAASP,SAAS,EAAxB;AACA,QAAM,CAACQ,IAAD,EAAMC,OAAN,IAAiBX,QAAQ,CAAC,EAAD,CAA/B;AAEA,QAAM,CAACY,OAAD,EAASC,UAAT,IAAuBb,QAAQ,CAAC,EAAD,CAArC;AACA,QAAM,CAACc,KAAD,EAAOC,QAAP,IAAmBf,QAAQ,CAAC;AAC9BgB,IAAAA,IAAI,EAAE,IADwB;AAE9BC,IAAAA,IAAI,EAAE;AAFwB,GAAD,CAAjC;AAKAlB,EAAAA,SAAS,CAAC,MAAM;AACZF,IAAAA,KAAK,CAACqB,GAAN,CAAW,oCAAmCT,EAAG,EAAjD,EAAoDU,IAApD,CAAyDC,QAAQ,IAAE;AAC/DT,MAAAA,OAAO,CAACS,QAAQ,CAACC,IAAT,CAAcC,MAAf,CAAP;AACH,KAFD,EAGCC,KAHD,CAGOC,GAAG,IAAI;AACVhB,MAAAA,OAAO,CAACiB,IAAR,CAAa,MAAb;AACH,KALD;AAMH,GAPQ,EAON,CAAChB,EAAD,CAPM,CAAT;;AAUA,QAAMiB,eAAe,GAAIC,KAAD,IAAW;AAC/BA,IAAAA,KAAK,CAACC,cAAN;AACA/B,IAAAA,KAAK,CAACgC,KAAN,CAAa,yCAAwCpB,EAAG,EAAxD,EAA2DC,IAA3D,EACKS,IADL,CACUW,GAAG,IAAK;AACVtB,MAAAA,OAAO,CAACiB,IAAR,CAAc,WAAUhB,EAAG,EAA3B;AAEH,KAJL,EAKKc,KALL,CAKWC,GAAG,IAAI;AACVX,MAAAA,UAAU,CAACW,GAAG,CAACJ,QAAJ,CAAaC,IAAb,CAAkBP,KAAlB,CAAwBiB,MAAzB,CAAV;AACH,KAPL;AAQH,GAVD;;AAYA,sBACI;AAAA,2BACI;AAAA,8BACI,QAAC,IAAD;AAAO,QAAA,KAAK,EAAG,gBAAerB,IAAI,CAACM,IAAK,EAAxC;AAA2C,QAAA,IAAI,EAAEN,IAAjD;AAAuD,QAAA,OAAO,EAAEC,OAAhE;AAAyE,QAAA,eAAe,EAAEe,eAA1F;AAA2G,QAAA,OAAO,EAAEd,OAApH;AAA6H,QAAA,KAAK,EAAEE,KAApI;AAA2I,QAAA,QAAQ,EAAEC;AAArJ;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI,QAAC,IAAD;AAAM,QAAA,EAAE,EAAC,GAAT;AAAa,QAAA,SAAS,EAAC,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ,eAGI,QAAC,MAAD;AAAQ,QAAA,EAAE,EAAEN;AAAZ;AAAA;AAAA;AAAA;AAAA,cAHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ,mBADJ;AASH,CA1CD;;GAAMH,U;UACcL,U,EACDC,S;;;KAFbI,U;AA4CN,eAAeA,UAAf","sourcesContent":["import axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\n\nimport Form from '../components/Form';\nimport Delete from '../components/Delete';\nimport { Link } from 'react-router-dom';\n\nconst EditPriate = (props) => {\n    const history = useHistory();\n    const { id } = useParams();\n    const [form,setForm] = useState({})\n\n    const [dbError,setDBError] = useState({ })\n    const [error,setError] = useState({\n        name: true,\n        crew: true\n    })\n\n    useEffect(() => {\n        axios.get(`http://localhost:8000/api/pirate/${id}`).then(response=>{\n            setForm(response.data.pirate);\n        })\n        .catch(err => {\n            history.push(\"/404\");\n        });\n    }, [id]);\n\n\n    const onSubmitHandler = (event) => {\n        event.preventDefault();\n        axios.patch(`http://localhost:8000/api/edit/pirate/${id}`, form)\n            .then(res =>  { \n                history.push(`/pirate/${id}`); \n                \n            })\n            .catch(err => {\n                setDBError(err.response.data.error.errors)\n            });\n    }\n\n    return(\n        <>\n            <div>\n                <Form  title={`Edit Pirate: ${form.name}`} form={form} setForm={setForm} onSubmitHandler={onSubmitHandler} dbError={dbError} error={error} setError={setError} />\n                <Link to=\"/\" className=\"cancle\">Cancle</Link>\n                <Delete id={id} />\n            </div>\n        </>\n    )\n}\n\nexport default EditPriate;"]},"metadata":{},"sourceType":"module"}