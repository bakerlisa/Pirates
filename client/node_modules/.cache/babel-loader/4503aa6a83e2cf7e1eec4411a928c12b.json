{"ast":null,"code":"import _defineProperty from\"/Users/lisabroadhead/Desktop/exam/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/lisabroadhead/Desktop/exam/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/lisabroadhead/Desktop/exam/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from'axios';import React,{useState}from'react';import{useHistory}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var WelcomeForm=function WelcomeForm(props){var history=useHistory();var _useState=useState({id:0}),_useState2=_slicedToArray(_useState,2),dbError=_useState2[0],setDBError=_useState2[1];var errorSize=Object.keys(dbError).length;// const history = useHistory();\nvar _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),login=_useState4[0],setLogin=_useState4[1];var _useState5=useState({email:false,password:false}),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var lengths={email:3,password:8};function ValidateEmail(event){setLogin(_objectSpread(_objectSpread({},login),{},_defineProperty({},event.target.name,event.target.value)));if(/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(event.target.value)){setError(_objectSpread(_objectSpread({},error),{},{email:true}));}else{setError(_objectSpread(_objectSpread({},error),{},{email:false}));}}var onChangeHandler=function onChangeHandler(event){setLogin(_objectSpread(_objectSpread({},login),{},_defineProperty({},event.target.name,event.target.value)));console.log(event.target.value.length);if(event.target.name in error){if(event.target.value.length>=lengths[event.target.name]){setError(_objectSpread(_objectSpread({},error),{},_defineProperty({},event.target.name,true)));}else{setError(_objectSpread(_objectSpread({},error),{},_defineProperty({},event.target.name,false)));}}};var onSubmitHandler=function onSubmitHandler(event){event.preventDefault();axios.get(\"http://localhost:8000/api/login\",login).then(function(response){// localStorage.setItem('name', login.firstName);\n// history.push(\"/pirates\"); \nconsole.log(response.data);}).catch(function(err){console.log(err.response);setDBError(err.response.data.error.errors);});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmitHandler,children:[/*#__PURE__*/_jsx(\"div\",{className:\"errWrp\",children:errorSize>1?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Entries Required: \"}),\" \",Object.keys(dbError).join(', ')]}):\"\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"email\",value:login.email,placeholder:\"Email\",onChange:ValidateEmail}),error.email?\"\":/*#__PURE__*/_jsx(\"span\",{children:\"Please enter an email\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"password\",value:login.password,placeholder:\"Password\",onChange:onChangeHandler}),error.password?\"\":/*#__PURE__*/_jsx(\"span\",{children:\"Please enter a password\"})]}),Object.keys(error).every(function(item){return error[item];})?/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Login\",className:\"submit\"}):/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Login\",disabled:true,className:\"disabled\"})]})});};export default WelcomeForm;","map":{"version":3,"sources":["/Users/lisabroadhead/Desktop/exam/client/src/components/WelcomeForm.js"],"names":["axios","React","useState","useHistory","WelcomeForm","props","history","id","dbError","setDBError","errorSize","Object","keys","length","login","setLogin","email","password","error","setError","lengths","ValidateEmail","event","target","name","value","test","onChangeHandler","console","log","onSubmitHandler","preventDefault","get","then","response","data","catch","err","errors","join","every","item"],"mappings":"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","sourcesContent":["\nimport axios from 'axios';\nimport React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nconst WelcomeForm = props => {\n\n    const history = useHistory();\n    const [dbError,setDBError] = useState({ id:0 })\n    var errorSize = Object.keys(dbError).length;\n    \n    // const history = useHistory();\n    const [login,setLogin] = useState({ })\n\n    const [error,setError] = useState({\n        email: false,\n        password: false\n    })\n\n    const lengths = {\n        email: 3,\n        password: 8\n    }\n\n    function ValidateEmail(event) {\n        setLogin({...login,[event.target.name]:event.target.value})\n        if (/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(event.target.value)){\n            setError({...error, email: true})\n        }else{\n            setError({...error, email: false})\n        }\n    }\n\n    const onChangeHandler = (event) => {\n\n        setLogin({...login,[event.target.name]: event.target.value})\n        console.log(event.target.value.length)\n        if(event.target.name in error){\n            if(event.target.value.length >= lengths[event.target.name]){\n                setError({...error,[event.target.name]:true})\n            }else{\n                setError({...error,[event.target.name]:false})\n            }\n        }\n    }\n    \n    const onSubmitHandler = (event) =>{\n        event.preventDefault();\n\n        axios.get(`http://localhost:8000/api/login`,login).then(response=>{\n            // localStorage.setItem('name', login.firstName);\n            // history.push(\"/pirates\"); \n            console.log(response.data)\n        })\n        .catch(err => {\n            console.log(err.response)\n            setDBError(err.response.data.error.errors)\n        });\n    }\n\n    return(\n        <>\n            <form onSubmit={onSubmitHandler} >\n                <div className=\"errWrp\">\n                    {\n                        errorSize > 1 ? <><h4>Entries Required: </h4> {Object.keys(dbError).join(', ')}</> : \"\"\n                    }\n                </div>\n\n                <div>\n                    <label htmlFor=\"email\">Email: </label>\n                    <input type=\"text\"  name=\"email\" value={login.email} placeholder=\"Email\" onChange={ValidateEmail} />\n                    {\n                        error.email ? \"\" : <span>Please enter an email</span>\n                    }\n                </div>\n\n                <div>\n                    <label htmlFor=\"password\">Password: </label>\n                    <input type=\"text\"  name=\"password\" value={login.password} placeholder=\"Password\" onChange={onChangeHandler} />\n                    {\n                        error.password ? \"\" : <span>Please enter a password</span>\n                    }\n                </div>\n\n                \n                {\n                    Object.keys(error).every((item) => error[item]) ? <input type=\"submit\" value=\"Login\" className=\"submit\" /> : <input type=\"submit\" value=\"Login\" disabled className=\"disabled\" />\n                }\n\n            </form>\n        </>\n    )\n}\n\nexport default WelcomeForm;"]},"metadata":{},"sourceType":"module"}