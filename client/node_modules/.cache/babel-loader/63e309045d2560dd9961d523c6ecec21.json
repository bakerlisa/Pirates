{"ast":null,"code":"var _jsxFileName = \"/Users/lisabroadhead/Desktop/exam/MERN/client/src/views/EditPriate.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport Form from '../components/Form';\nimport Delete from '../components/Delete';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst EditPriate = props => {\n  _s();\n\n  const history = useHistory();\n  const {\n    id\n  } = useParams();\n  const [form, setForm] = useState({});\n  const [dbError, setDBError] = useState({});\n  const [error, setError] = useState({\n    author: true,\n    email: true\n  });\n  useEffect(() => {\n    axios.get(`http://localhost:8000/api/author/${id}`).then(response => {\n      setForm(response.data.author);\n    }).catch(err => {\n      history.push(\"/404\");\n    });\n  }, [id]);\n\n  const onSubmitHandler = event => {\n    event.preventDefault();\n    axios.patch(`http://localhost:8000/api/update/author/${id}`, form).then(res => {\n      history.push(\"/\");\n    }).catch(err => {\n      setDBError(err.response.data.error.errors);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Form, {\n        title: `Edit Author: ${form.author}`,\n        form: form,\n        setForm: setForm,\n        onSubmitHandler: onSubmitHandler,\n        dbError: dbError,\n        error: error,\n        setError: setError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        className: \"cancle\",\n        children: \"Cancle\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Delete, {\n        id: id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n\n_s(EditPriate, \"bJj7lYcMjahM8lPSDwvjslzBcuU=\", false, function () {\n  return [useHistory, useParams];\n});\n\n_c = EditPriate;\nexport default EditPriate;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditPriate\");","map":{"version":3,"sources":["/Users/lisabroadhead/Desktop/exam/MERN/client/src/views/EditPriate.js"],"names":["axios","React","useEffect","useState","useHistory","useParams","Form","Delete","Link","EditPriate","props","history","id","form","setForm","dbError","setDBError","error","setError","author","email","get","then","response","data","catch","err","push","onSubmitHandler","event","preventDefault","patch","res","errors"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,UAAT,EAAqBC,SAArB,QAAsC,kBAAtC;AAEA,OAAOC,IAAP,MAAiB,oBAAjB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,SAASC,IAAT,QAAqB,kBAArB;;;;AAEA,MAAMC,UAAU,GAAIC,KAAD,IAAW;AAAA;;AAC1B,QAAMC,OAAO,GAAGP,UAAU,EAA1B;AACA,QAAM;AAAEQ,IAAAA;AAAF,MAASP,SAAS,EAAxB;AACA,QAAM,CAACQ,IAAD,EAAMC,OAAN,IAAiBX,QAAQ,CAAC,EAAD,CAA/B;AAEA,QAAM,CAACY,OAAD,EAASC,UAAT,IAAuBb,QAAQ,CAAC,EAAD,CAArC;AACA,QAAM,CAACc,KAAD,EAAOC,QAAP,IAAmBf,QAAQ,CAAC;AAC9BgB,IAAAA,MAAM,EAAE,IADsB;AAE9BC,IAAAA,KAAK,EAAE;AAFuB,GAAD,CAAjC;AAKAlB,EAAAA,SAAS,CAAC,MAAM;AACZF,IAAAA,KAAK,CAACqB,GAAN,CAAW,oCAAmCT,EAAG,EAAjD,EAAoDU,IAApD,CAAyDC,QAAQ,IAAE;AAC/DT,MAAAA,OAAO,CAACS,QAAQ,CAACC,IAAT,CAAcL,MAAf,CAAP;AACH,KAFD,EAGCM,KAHD,CAGOC,GAAG,IAAI;AACVf,MAAAA,OAAO,CAACgB,IAAR,CAAa,MAAb;AACH,KALD;AAMH,GAPQ,EAON,CAACf,EAAD,CAPM,CAAT;;AAUA,QAAMgB,eAAe,GAAIC,KAAD,IAAW;AAC/BA,IAAAA,KAAK,CAACC,cAAN;AACA9B,IAAAA,KAAK,CAAC+B,KAAN,CAAa,2CAA0CnB,EAAG,EAA1D,EAA6DC,IAA7D,EACKS,IADL,CACUU,GAAG,IAAK;AACVrB,MAAAA,OAAO,CAACgB,IAAR,CAAa,GAAb;AACH,KAHL,EAIKF,KAJL,CAIWC,GAAG,IAAI;AACVV,MAAAA,UAAU,CAACU,GAAG,CAACH,QAAJ,CAAaC,IAAb,CAAkBP,KAAlB,CAAwBgB,MAAzB,CAAV;AACH,KANL;AAOH,GATD;;AAWA,sBACI;AAAA,2BACI;AAAA,8BACI,QAAC,IAAD;AAAO,QAAA,KAAK,EAAG,gBAAepB,IAAI,CAACM,MAAO,EAA1C;AAA6C,QAAA,IAAI,EAAEN,IAAnD;AAAyD,QAAA,OAAO,EAAEC,OAAlE;AAA4E,QAAA,eAAe,EAAEc,eAA7F;AAA8G,QAAA,OAAO,EAAEb,OAAvH;AAAgI,QAAA,KAAK,EAAEE,KAAvI;AAA8I,QAAA,QAAQ,EAAEC;AAAxJ;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI,QAAC,IAAD;AAAM,QAAA,EAAE,EAAC,GAAT;AAAa,QAAA,SAAS,EAAC,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ,eAGI,QAAC,MAAD;AAAQ,QAAA,EAAE,EAAEN;AAAZ;AAAA;AAAA;AAAA;AAAA,cAHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ,mBADJ;AASH,CAzCD;;GAAMH,U;UACcL,U,EACDC,S;;;KAFbI,U;AA2CN,eAAeA,UAAf","sourcesContent":["import axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\n\nimport Form from '../components/Form';\nimport Delete from '../components/Delete';\nimport { Link } from 'react-router-dom';\n\nconst EditPriate = (props) => {\n    const history = useHistory();\n    const { id } = useParams();\n    const [form,setForm] = useState({})\n\n    const [dbError,setDBError] = useState({ })\n    const [error,setError] = useState({\n        author: true,\n        email: true\n    })\n\n    useEffect(() => {\n        axios.get(`http://localhost:8000/api/author/${id}`).then(response=>{\n            setForm(response.data.author);\n        })\n        .catch(err => {\n            history.push(\"/404\");\n        });\n    }, [id]);\n\n\n    const onSubmitHandler = (event) => {\n        event.preventDefault();\n        axios.patch(`http://localhost:8000/api/update/author/${id}`, form)\n            .then(res =>  { \n                history.push(\"/\"); \n            })\n            .catch(err => {\n                setDBError(err.response.data.error.errors)\n            });\n    }\n\n    return(\n        <>\n            <div>\n                <Form  title={`Edit Author: ${form.author}`} form={form} setForm={setForm}  onSubmitHandler={onSubmitHandler} dbError={dbError} error={error} setError={setError} />\n                <Link to=\"/\" className=\"cancle\">Cancle</Link>\n                <Delete id={id} />\n            </div>\n        </>\n    )\n}\n\nexport default EditPriate;"]},"metadata":{},"sourceType":"module"}