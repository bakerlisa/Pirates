{"ast":null,"code":"import _defineProperty from\"/Users/lisabroadhead/Desktop/exam/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/lisabroadhead/Desktop/exam/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/lisabroadhead/Desktop/exam/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// import axios from 'axios';\nimport axios from'axios';import React,{useState}from'react';import{useHistory}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RegistrationForm=function RegistrationForm(props){var history=useHistory();var _useState=useState({id:0}),_useState2=_slicedToArray(_useState,2),dbError=_useState2[0],setDBError=_useState2[1];var errorSize=Object.keys(dbError).length;var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),form=_useState4[0],setForm=_useState4[1];var _useState5=useState({firstName:false,lastName:false,email:false,password:false,confirmPassword:false}),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var lengths={firstName:3,lastName:3,password:8};function ValidateEmail(event){setForm(_objectSpread(_objectSpread({},form),{},_defineProperty({},event.target.name,event.target.value)));if(/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(event.target.value)){setError(_objectSpread(_objectSpread({},error),{},{email:true}));}else{setError(_objectSpread(_objectSpread({},error),{},{email:false}));}}var onPasswordHandler=function onPasswordHandler(event){setForm(_objectSpread(_objectSpread({},form),{},_defineProperty({},event.target.name,event.target.value)));if(event.target.value.length<8){setError(_objectSpread(_objectSpread({},error),{},{password:false}));}else{setError(_objectSpread(_objectSpread({},error),{},{password:true}));}};var onConfirmPasswordHandler=function onConfirmPasswordHandler(event){setForm(_objectSpread(_objectSpread({},form),{},_defineProperty({},event.target.name,event.target.value)));if(form.password===event.target.value){setError(_objectSpread(_objectSpread({},error),{},{confirmPassword:true}));}else{setError(_objectSpread(_objectSpread({},error),{},{confirmPassword:false}));}};var onChangeHandlerWelcome=function onChangeHandlerWelcome(event){setForm(_objectSpread(_objectSpread({},form),{},_defineProperty({},event.target.name,event.target.value)));if(event.target.name in error){if(event.target.value.length>=lengths[event.target.name]){setError(_objectSpread(_objectSpread({},error),{},_defineProperty({},event.target.name,true)));}else{setError(_objectSpread(_objectSpread({},error),{},_defineProperty({},event.target.name,false)));}}};var onSubmitHandlerWelcome=function onSubmitHandlerWelcome(event){event.preventDefault();axios.post(\"http://localhost:8000/api/create/user\",form).then(function(response){localStorage.setItem('name',form.firstName);history.push(\"/pirates\");}).catch(function(err){setDBError(err.response.data.error.errors);});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmitHandlerWelcome,children:[/*#__PURE__*/_jsx(\"div\",{className:\"errWrp\",children:errorSize>1?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Entries Required: \"}),\" \",Object.keys(dbError).join(', ')]}):\"\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"firstName\",children:\"First Name: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"firstName\",value:form.firstName,placeholder:\"First Name\",onChange:onChangeHandlerWelcome}),error.firstName?\"\":/*#__PURE__*/_jsx(\"span\",{children:\"Please enter a first name\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"lastName\",children:\"Last Name: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"lastName\",value:form.lastName,placeholder:\"Last Name\",onChange:onChangeHandlerWelcome}),error.lastName?\"\":/*#__PURE__*/_jsx(\"span\",{children:\"Please enter a last name\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:form.email,placeholder:\"Email\",onChange:ValidateEmail}),error.email?\"\":/*#__PURE__*/_jsx(\"span\",{children:\"Please enter an email\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:form.password,placeholder:\"Password\",onChange:onPasswordHandler}),error.password?\"\":/*#__PURE__*/_jsx(\"span\",{children:\"Please enter a password\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"confirmPassword\",children:\"Confirm Password: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"confirmPassword\",value:form.confirmPassword,placeholder:\"Confirm Password\",onChange:onConfirmPasswordHandler}),error.confirmPassword?\"\":/*#__PURE__*/_jsx(\"span\",{children:\"Passwords must match\"})]}),Object.keys(error).every(function(item){return error[item];})?/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Create Account\",className:\"submit\"}):/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Create Account\",disabled:true,className:\"disabled\"})]})});};export default RegistrationForm;","map":{"version":3,"sources":["/Users/lisabroadhead/Desktop/exam/client/src/components/RegistrationForm.js"],"names":["axios","React","useState","useHistory","RegistrationForm","props","history","id","dbError","setDBError","errorSize","Object","keys","length","form","setForm","firstName","lastName","email","password","confirmPassword","error","setError","lengths","ValidateEmail","event","target","name","value","test","onPasswordHandler","onConfirmPasswordHandler","onChangeHandlerWelcome","onSubmitHandlerWelcome","preventDefault","post","then","response","localStorage","setItem","push","catch","err","data","errors","join","every","item"],"mappings":"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","sourcesContent":["// import axios from 'axios';\nimport axios from 'axios';\nimport React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nconst RegistrationForm = props => {\n    const history = useHistory();\n\n    const [dbError,setDBError] = useState({ id:0 })\n    var errorSize = Object.keys(dbError).length;\n    \n    const [form,setForm] = useState({})\n\n    const [error,setError] = useState({\n        firstName: false,\n        lastName: false,\n        email: false,\n        password: false,\n        confirmPassword: false\n    })\n\n    const lengths = {\n        firstName: 3,\n        lastName: 3,\n        password: 8\n    }\n\n    function ValidateEmail(event) {\n        setForm({...form,[event.target.name]:event.target.value})\n        if (/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(event.target.value)){\n            setError({...error, email: true})\n        }else{\n            setError({...error, email: false})\n        }\n    }\n\n    const onPasswordHandler = (event) => {\n        setForm({...form,[event.target.name]: event.target.value})\n\n        if(event.target.value.length < 8 ){\n            setError({...error, password: false})\n        }else{\n            setError({...error, password: true})\n        }\n    }\n\n    const onConfirmPasswordHandler = (event) => {\n        setForm({...form,[event.target.name]: event.target.value})\n\n        if(form.password === event.target.value){\n            setError({...error, confirmPassword: true})\n        }else{\n            setError({...error, confirmPassword: false})\n        }\n    }\n\n    const onChangeHandlerWelcome = (event) => {\n        setForm({...form,[event.target.name]: event.target.value})\n        \n        if(event.target.name in error){\n            if(event.target.value.length >= lengths[event.target.name]){\n                setError({...error,[event.target.name]:true})\n            }else{\n                setError({...error,[event.target.name]:false})\n            }\n        }\n    }\n\n    const onSubmitHandlerWelcome = (event) =>{\n        event.preventDefault();\n\n        axios.post(`http://localhost:8000/api/create/user`,form).then(response=>{\n            localStorage.setItem('name', form.firstName);\n            history.push(\"/pirates\"); \n        })\n        .catch(err => {\n            setDBError(err.response.data.error.errors)\n        });\n    }\n\n    return(\n        <>\n            <form onSubmit={onSubmitHandlerWelcome} >\n                <div className=\"errWrp\">\n                    {\n                        errorSize > 1 ? <><h4>Entries Required: </h4> {Object.keys(dbError).join(', ')}</> : \"\"\n                    }\n                </div>\n\n                <div>\n                    <label htmlFor=\"firstName\">First Name: </label>\n                    <input type=\"text\"  name=\"firstName\" value={form.firstName} placeholder=\"First Name\" onChange={onChangeHandlerWelcome} />\n                    {\n                        error.firstName ? \"\" : <span>Please enter a first name</span>\n                    }\n                </div>\n\n                <div>\n                    <label htmlFor=\"lastName\">Last Name: </label>\n                    <input type=\"text\"  name=\"lastName\" value={form.lastName} placeholder=\"Last Name\" onChange={onChangeHandlerWelcome} />\n                    {\n                        error.lastName ? \"\" : <span>Please enter a last name</span>\n                    }\n                </div>\n\n                <div>\n                    <label htmlFor=\"email\">Email: </label>\n                    <input type=\"email\"  name=\"email\" value={form.email} placeholder=\"Email\" onChange={ValidateEmail} />\n                    {\n                        error.email ? \"\" : <span>Please enter an email</span>\n                    }\n                </div>\n\n                <div>\n                    <label htmlFor=\"password\">Password: </label>\n                    <input type=\"password\"  name=\"password\" value={form.password} placeholder=\"Password\" onChange={onPasswordHandler} />\n                    {\n                        error.password ? \"\" : <span>Please enter a password</span>\n                    }\n                </div>\n\n                <div>\n                    <label htmlFor=\"confirmPassword\">Confirm Password: </label>\n                    <input type=\"password\"  name=\"confirmPassword\" value={form.confirmPassword} placeholder=\"Confirm Password\" onChange={onConfirmPasswordHandler} />\n                    {\n                        error.confirmPassword ? \"\" : <span>Passwords must match</span>\n                    }\n                </div>\n\n                \n                {\n                    Object.keys(error).every((item) => error[item]) ? <input type=\"submit\" value=\"Create Account\" className=\"submit\" /> : <input type=\"submit\" value=\"Create Account\" disabled className=\"disabled\" />\n                }\n\n            </form>\n        </>\n    )\n}\n\nexport default RegistrationForm;"]},"metadata":{},"sourceType":"module"}