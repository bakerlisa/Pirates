{"ast":null,"code":"import _slicedToArray from\"/Users/lisabroadhead/Desktop/exam/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from'axios';import React,{useEffect,useState}from'react';import{useHistory,useParams}from'react-router-dom';import Form from'../components/Form';import Delete from'../components/Delete';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var EditPriate=function EditPriate(props){var history=useHistory();var _useParams=useParams(),id=_useParams.id;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),form=_useState2[0],setForm=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),dbError=_useState4[0],setDBError=_useState4[1];var _useState5=useState({name:true,crew:true}),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];useEffect(function(){axios.get(\"http://localhost:8000/api/pirate/\".concat(id)).then(function(response){setForm(response.data.pirate);}).catch(function(err){history.push(\"/404\");});},[id]);var onSubmitHandler=function onSubmitHandler(event){event.preventDefault();axios.patch(\"http://localhost:8000/api/edit/pirate/\".concat(id),form).then(function(res){history.push(\"/pirate/\".concat(id));}).catch(function(err){setDBError(err.response.data.error.errors);});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Form,{title:\"Edit Pirate: \".concat(form.name),form:form,setForm:setForm,onSubmitHandler:onSubmitHandler,dbError:dbError,error:error,setError:setError}),/*#__PURE__*/_jsx(Link,{to:\"/pirates\",className:\"cancle\",children:\"Cancle\"}),/*#__PURE__*/_jsx(Delete,{id:id})]})});};export default EditPriate;","map":{"version":3,"sources":["/Users/lisabroadhead/Desktop/exam/client/src/views/EditPriate.js"],"names":["axios","React","useEffect","useState","useHistory","useParams","Form","Delete","Link","EditPriate","props","history","id","form","setForm","dbError","setDBError","name","crew","error","setError","get","then","response","data","pirate","catch","err","push","onSubmitHandler","event","preventDefault","patch","res","errors"],"mappings":"8HAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,UAAT,CAAqBC,SAArB,KAAsC,kBAAtC,CAEA,MAAOC,CAAAA,IAAP,KAAiB,oBAAjB,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,OAASC,IAAT,KAAqB,kBAArB,C,6IAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,KAAD,CAAW,CAC1B,GAAMC,CAAAA,OAAO,CAAGP,UAAU,EAA1B,CACA,eAAeC,SAAS,EAAxB,CAAQO,EAAR,YAAQA,EAAR,CACA,cAAuBT,QAAQ,CAAC,EAAD,CAA/B,wCAAOU,IAAP,eAAYC,OAAZ,eAEA,eAA6BX,QAAQ,CAAC,EAAD,CAArC,yCAAOY,OAAP,eAAeC,UAAf,eACA,eAAyBb,QAAQ,CAAC,CAC9Bc,IAAI,CAAE,IADwB,CAE9BC,IAAI,CAAE,IAFwB,CAAD,CAAjC,yCAAOC,KAAP,eAAaC,QAAb,eAKAlB,SAAS,CAAC,UAAM,CACZF,KAAK,CAACqB,GAAN,4CAA8CT,EAA9C,GAAoDU,IAApD,CAAyD,SAAAC,QAAQ,CAAE,CAC/DT,OAAO,CAACS,QAAQ,CAACC,IAAT,CAAcC,MAAf,CAAP,CACH,CAFD,EAGCC,KAHD,CAGO,SAAAC,GAAG,CAAI,CACVhB,OAAO,CAACiB,IAAR,CAAa,MAAb,EACH,CALD,EAMH,CAPQ,CAON,CAAChB,EAAD,CAPM,CAAT,CAUA,GAAMiB,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,CAAW,CAC/BA,KAAK,CAACC,cAAN,GACA/B,KAAK,CAACgC,KAAN,iDAAqDpB,EAArD,EAA2DC,IAA3D,EACKS,IADL,CACU,SAAAW,GAAG,CAAK,CACVtB,OAAO,CAACiB,IAAR,mBAAwBhB,EAAxB,GAEH,CAJL,EAKKc,KALL,CAKW,SAAAC,GAAG,CAAI,CACVX,UAAU,CAACW,GAAG,CAACJ,QAAJ,CAAaC,IAAb,CAAkBL,KAAlB,CAAwBe,MAAzB,CAAV,CACH,CAPL,EAQH,CAVD,CAYA,mBACI,sCACI,oCACI,KAAC,IAAD,EAAO,KAAK,wBAAkBrB,IAAI,CAACI,IAAvB,CAAZ,CAA2C,IAAI,CAAEJ,IAAjD,CAAuD,OAAO,CAAEC,OAAhE,CAAyE,eAAe,CAAEe,eAA1F,CAA2G,OAAO,CAAEd,OAApH,CAA6H,KAAK,CAAEI,KAApI,CAA2I,QAAQ,CAAEC,QAArJ,EADJ,cAEI,KAAC,IAAD,EAAM,EAAE,CAAC,UAAT,CAAoB,SAAS,CAAC,QAA9B,oBAFJ,cAGI,KAAC,MAAD,EAAQ,EAAE,CAAER,EAAZ,EAHJ,GADJ,EADJ,CASH,CA1CD,CA4CA,cAAeH,CAAAA,UAAf","sourcesContent":["import axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\n\nimport Form from '../components/Form';\nimport Delete from '../components/Delete';\nimport { Link } from 'react-router-dom';\n\nconst EditPriate = (props) => {\n    const history = useHistory();\n    const { id } = useParams();\n    const [form,setForm] = useState({})\n\n    const [dbError,setDBError] = useState({ })\n    const [error,setError] = useState({\n        name: true,\n        crew: true\n    })\n\n    useEffect(() => {\n        axios.get(`http://localhost:8000/api/pirate/${id}`).then(response=>{\n            setForm(response.data.pirate);\n        })\n        .catch(err => {\n            history.push(\"/404\");\n        });\n    }, [id]);\n\n\n    const onSubmitHandler = (event) => {\n        event.preventDefault();\n        axios.patch(`http://localhost:8000/api/edit/pirate/${id}`, form)\n            .then(res =>  { \n                history.push(`/pirate/${id}`); \n                \n            })\n            .catch(err => {\n                setDBError(err.response.data.error.errors)\n            });\n    }\n\n    return(\n        <>\n            <div>\n                <Form  title={`Edit Pirate: ${form.name}`} form={form} setForm={setForm} onSubmitHandler={onSubmitHandler} dbError={dbError} error={error} setError={setError} />\n                <Link to=\"/pirates\" className=\"cancle\">Cancle</Link>\n                <Delete id={id} />\n            </div>\n        </>\n    )\n}\n\nexport default EditPriate;"]},"metadata":{},"sourceType":"module"}